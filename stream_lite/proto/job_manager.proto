syntax = "proto2";

message SubmitJobRequest {
  optional int64 logid = 1;
  repeated Task tasks = 2;
};

message SubmitJobResponse {
  optional int32 err_no = 1;
  optional string err_msg = 2;
  repeated string key = 3;
  repeated string value = 4;
};

message Task {
  required string cls_name = 1;
  required int32 currency = 2;
  repeated string input_tasks = 3;
  repeated File resources = 4;
  required File task_file = 5;
}

message File {
  required string name = 1;
  required string content = 2;
}

message NilResponse {}

service JobManagerService {
  // from client
  rpc submitJob(SubmitJobRequest) returns (SubmitJobResponse) {}
};
